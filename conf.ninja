cc=gcc
lf=-lGL
cf=-std=gnu11 -Ofast -g -pipe
rule cc
 command=$cc $cf $in -o $out -lglfw -lm $lf
rule pinch
 command=pinch S
rule bitch
 command=bitch map
build tgen.c:pinch spr/S.png
build bgen.c:bitch spr/map.png
{
src="tgen","bgen","spr","o","ef"
for s in src:print("build {0}.o:cc {0}.c\n lf=-c".format(s))
}
build ElectronicFunk:cc {$" ".join(s+".o" for s in src)$}
build ElectronicFunk.exe:cc {$" ".join(s+".c" for s in src)$}
 cc=i486-mingw32-gcc
 lf=-lopengl32
default ElectronicFunk